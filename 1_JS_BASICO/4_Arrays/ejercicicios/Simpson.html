<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Los simpson</title>
</head>
<body>
    <script>
        const losSimpson = ['Homer', 'Marge', 'Lisa', 'Bart', 'Maggie'];

        // ----------------------------------------------
        // 1. Obtener elementos del array que empiecen por una letra concreta (nuevo array)
        // filter: extrae varios elementos        
        // Devuelve un array con dichos nombres
        console.log("------------ 1 ---------------");
        // Forma imperativa
        console.log(nombresEmpiecenPor('M'));

        // Forma declarativa funcional
        console.log(losSimpson.filter(nombre => nombre[0] === 'M'));
        
        function nombresEmpiecenPor(letra){
            let nombres = [];
            
            for(const nombre of losSimpson){
                //if(nombre.charAt(0) === letra)
                if (nombre[0] === letra)
                    nombres.push(nombre);
            }

            return nombres;
        }
        // -----------------------------------------------------

        //2. Obtener primer elemento que empiece por M
        //find: extrae solo un elemento
        // Devuelve un elemento
        //console.log(primerNombreEmpiecePor('M'));
        console.log("------------ 2 ---------------");

        console.log(losSimpson.find(nombre => nombre.charAt(0) === 'M'));

        function primerNombreEmpiecePor(letra){
            // PENDIENTE COMPLETAR QUIEN QUIERA...
        }

        //3. Contar cuantas letras suman todos los nombres del array
        //reduce: calcula un valor que devuelve
        // El segundo parámetro es el valor inicial
        console.log("------------ 3 ---------------");

        console.log(contarLetrasTodosNombres());

        console.log(losSimpson.reduce( (total,nombre) => total+nombre.length,0));

        function contarLetrasTodosNombres(){
            let sumatorio = 0;

            for(const nombre of losSimpson)
                sumatorio += nombre.length;

            /*for(let i=0; i<=losSimpson.length;i++)
                sumatorio += nombre.length;*/

            return sumatorio;

        }

        //4. Convertir todos los nombres a mayúsculas
        //map: transforma el contenido de un array
        console.log("------------ 4 ---------------");
        console.log(convertirMay());

        console.log(losSimpson.map(nombre => nombre.toUpperCase()));
        console.log(convertirMay());

        function convertirMay(){
            const may = [];

            for(const nombre of losSimpson)
                may.push(nombre.toUpperCase());

            //for(let i=0; i<losSimpson.length;i++)
                //may[i] = losSimpson[i].toUpperCase();

            return may;    
        }

        // 5. Rellenar un array con un valor concreto 
        // fill: sustituye todo el contenido de un array con un nuevo contenido)
        console.log("------------ 5 ---------------");
        console.log(Array(5).fill('X'));

        // 6. Mostrar cuantas letras contiene cada nombre 
        //forEach: recorre un array obteniendo su posición y valor)
        console.log("------------ 6.1 ---------------");
        losSimpson.forEach(nombre => console.log(`${nombre} contiene ${nombre.length} letras`));
        console.log("------------ 6.2 ---------------");
        losSimpson.forEach(nombre => console.log(nombre+" contiene "+nombre.length+" letras" ));
        console.log("------------ 6.3 ---------------");
        losSimpson.forEach((nombre,pos) => console.log(`La palabra ${nombre} en la posición ${pos}, contiene ${nombre.length} letras`));

        // 7. Devolver false si todos los nombres no contienen la letra a 
        //every: igual que some pero debe cumplirse siempre)
        console.log("------------ 7 ---------------");
        console.log(losSimpson.every(nombre => nombre.includes('a')));

        console.log(todosContienenLaLetra('A'));

        function todosContienenLaLetra(letra){
            letra=letra.toUpperCase();
            for(const nombre of losSimpson){
                if(!nombre.toUpperCase().includes(letra))
                    return false;
            }
            return true;

            return 
        }        

        // 8. Devolver true si algún nombres contiene la letra a 
        //some
        console.log("------------ 8 ---------------");
        console.log(losSimpson.some(nombre => nombre.includes('a')));

        // 9. Preguntar si existe una cadena concreto (independientemente de si está en may o min) 
        // some: te dice si un array cumple la condición en algún momento)        
        console.log("------------ 9 ---------------");
        console.log(losSimpson.some(nombre => nombre.toLocaleUpperCase().includes("MARGE")) );

        //10. Concatenar dos arrays
        console.log("------------ 10 ---------------");
        console.log(losSimpson.concat([5,"otra cosa"]));
        console.log(losSimpson.concat(['Moe','Barney']));

        // 11. Obtener un subarray
        console.log("------------ 11 ---------------");
        console.log(losSimpson.slice(2,4));

        // 12. Unir en un string todos los elementos del array por un separador
        // join: devuelve un string
        console.log("------------ 12 ---------------");
        console.log(losSimpson.join("--"));

        // 13. Separar en un array una cadena de texto (por un separador)
        console.log("------------ 13 ---------------");
        const cadena ="Homer--Marge--Lisa--Bart--Maggie";
        const miNuevoArray = cadena.split("--");
        console.log(miNuevoArray);
    </script>
</body>
</html>